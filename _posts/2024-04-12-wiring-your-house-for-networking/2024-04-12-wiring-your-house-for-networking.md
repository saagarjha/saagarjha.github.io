---
layout: post
title: "Wiring Your House for Networking"
---

You won't know it from reading my [about page](https://saagarjha.com/), but I no longer live in Cupertino. I haven't updated that for years–I don't spend much time in Southern California anymore either. I should probably get around to changing it someday.

Of course, where I live now isn't the topic of this blog post–it's San Jose by the way–but rather that I've moved to a new house, where I can set up my home network the right way™. There's not too much I can do about my ISP (though I do have fiber now, which is nice except for the part where I sell my soul to AT&T). However, everything between the modem box and my computer *is* something I control, and I'll be damned if I fail to take advantage of any of the symmetric gigabit I'm paying for. So I did what tech nerds with too much free time on their hands do: I paid to make the problem go away. In this case, this took the form of putting [Category 6 cables](https://en.wikipedia.org/wiki/Category_6_cable) in the walls. Think of this as the dummies guide to home networking, from someone who was a dummy when he started and ended up as a dummy with some 10 gigabit backbone.

## Background

A general rule of thumb for networking is that wires are always better than wireless. There are exceptions–which we'll get to–but if you want something to be fast, then you should generally run a direct line as far as you can. Of course, you're not going to plug a Lightning-to-Ethernet into your iPhone (you can literally buy anything on the internet). But if you're sitting at your desk, as I do for most of my day, you can deal with a few wires. And you generally want wires to go between your networking equipment too. Those sleek plug-and-play wireless mesh APs? Those are basically always a scam. Seriously, don't buy them unless you really don't care about your networking speeds. You'll get much better performance if you run a direct line between them.

{% include aside.html content="We're getting to dedicated backhaul antennas, hold your horses." %}

At the time of writing this, networking is on a precipice where things are going to get a little strange really soon. But historically, things have been very clear, and since that's mostly still true today we can start there.

When it comes to networking, wires are *fast* and *cheap*. Today you can get copper Cat6 cable, which does 10 gigabits/s for any reasonable length you'd have in your house, for pennies per meter. You can even splurge on Cat6a or Cat7 (I have a vague feeling that these are like not standard, so I kind of avoid them?) for maybe twice the price. Cat8 has a shorter length limit (but still probably good enough for most houses) and is supposed to do 40 Gbps or something and you can find it for just a tiny bit more.

Wireless, on the flip side, has basically always been slower than wires, more expensive, and definitely more temperamental. Wi-Fi 6, which is starting to get solid adoption on good hardware (think laptops, tablets: your IoT is going to be cursed to 802.11b/g forever…) has some insane "theoretical" speed but on a good day might give you several hundred megabits if you are within a room or two of your AP. Of course, if you move further away or the phase of the moon isn't right you might see much less than that. If you want to go for Wi-Fi 6e or Wi-Fi 7 (which is just starting to enter the market) you're going to be paying a pretty penny and be restricted to exclusively picking from the high end of everything.

This has basically been the case for the last several decades, so what's going on *today*, in 2024?

### New updates

For years, networking basically just got better, and everyone used the same wires. We went from 10BASE-T to 100BASE-TX to 1000BASE-T and all of it worked on [Cat5](https://en.wikipedia.org/w/index.php?title=Category_5_cable) cable if you were careful. If you wanted to play it safe or do a long run then you could go for Cat5e, which for a lot of cables is just "sike! We actually made the Cat5 cable a little better than required and it happens to be Cat5e!". Cat6 pushes you from 2.5 Gbps to 10 Gbps carrying 10GBASE-T, and so on. All of these were typically pure copper cables that you could get for basically nothing.

This is not how high-speed networking is done these days. People who care (think Google, or your local crazy networking nerd) are all on fiber. They don't use ~~[RJ45](https://en.wikipedia.org/wiki/Registered_jack)~~ [8P8C](https://en.wikipedia.org/wiki/Modular_connector), they have SFP+ adapters that can do 100 Gbps. I don't *fully* understand the history here, but it turns out all the hardware that works directly with copper gets really hot or something. Or maybe nobody bothered to make good ASICs for this stuff yet? But what it means is that switches are typically massive, run hot, and are at least 2-3x more expensive if you go for 2.5 Gbps and 5x more expensive at 10 Gbps. Similarly, everyone puts 1 GbE ports on their hardware but very few things will come with 2.5 Gbps or 10 Gbps Ethernet ports. Sometimes this means you get very silly products like [this](https://store.google.com/product/nest_wifi_pro_specs) that advertise networking speeds based on their wireless capabilities that it is *literally impossible to feed into the device* because their wired ports don't go fast enough. But you have to be careful with even "prosumer" hardware these days: many of them will still offer just a gigabit interface.

Overall, this actually means that if you want a network that regularly goes over a gigabit *now*, you should probably start looking at fiber. The costs actually start to become comparable as you up your speeds. On the flip side, I think unless we see major changes in copper wireless is actually going to cross it in a few years, as annoying as that will be. Most of the other problems with it with regards to reliability will stay, but it will actually probably be cheaper to just beam your network connections over a Wi-Fi 8 backhaul or something rather than upgrade all your hardware to 10 Gbps. Early wireless mesh systems would cut into your bandwidth to relay your data, but new ones almost invariably keep a high-quality dedicated antenna for this purpose. So maybe those will be the strategy for casual prosumers moving forward.

## My plan

So with that said, why did I go for Cat6 in my house? Well, for one, I don't have hardware that does better than gigabit speeds. Almost everything just doesn't have 2.5 or 10 GbE ports, or uses a Wi-Fi standard that can't push beyond that. While my old house didn't have Ethernet wired in the walls, I was actually fortunate enough to have a [MoCA](https://en.wikipedia.org/wiki/Multimedia_over_Coax_Alliance) setup that gave me a 2.5 Gbps backbone that I had a bunch of gigabit switches set up on top of. So I am just reusing all of those in the new house too. Plus, while I can get faster internet now from my ISP (up to 5 Gbps!) I don't really want to pay for it yet ($$$!).

However, the real reason–and one I don't actually hear very often–is that my wires are actually explicitly not meant to be "future-proof". Of course they are to some extent–I went for Cat6 instead of Cat5e because it was barely any more expensive, and provided plenty of headroom if I ever *do* update my switches and hardware over the next several years–but it's a little more complicated than that. But it's not actually the only thing I'm thinking of here, and for that it's important to go over the actual installation process.

### Installation details

Going into this projct, I had basically no idea how people put wires in walls. It turned out a lot simpler than I expected, though. At a high level, you need to do the following:

1. Plan where you want your cables to go. Make sure you have good coverage of your house. Keep in mind that just because you have Ethernet in a room doesn't necessarily mean it is where you want it to be: unless you want an unsightly cable running across your room, you may need to think about where specifically to place the drop in the room. Depending on your house, you might run your cables through the crawlspace, attic, or outside the house. Try to avoid super long runs for no reason.
2. Buy supplies. Namely:
	* Your Ethernet cable. In my house I ran it through the crawlspace. If you want to pay a bunch extra you can go for "plenum" (roughly, if you run the cable through a place with airflow, it is not supposed to poison you with toxic gas when it catches fire, but you probably aren't running your cables in ducts) or "shielded" (what it sounds like but I don't think I need it) but to my knowledge it doesn't really matter here and it will double your price so I saw no need to go for it.
	* Keystones. If you aren't familiar with these (as I was) think "Framework laptop ports, but for your walls". You get an Ethernet female jack and it will go into a mounting slot that can fit any keystone adapter. They're really neat actually, and look clean and professional.
	* A wall plate with keystone holes in it. The most cost-effective way to wire your house is likely to have one central point where all the wires meet and then run a line to each room, so you probably want say one 6/12 port plate and 1-2 port plates everywhere else. Grab a couple of "blank" keystones while you're at it to fill in the holes you're not using.
	* Low-voltage boxes. These go into the holes you cut in the walls and basically give the wall plate something to attach to instead of the empty space behind the drywall.
	* Wire cutters/strippers. You'll need this for the cables, obviously.
	* Punch-down tool. When you wire the cable you need to basically take each twisted pair in the wire and thread it into the keystone jack in a specific order (in a certain order, of course. I picked T568B for what it's worth, but it literally does not matter). You should watch a video on how to do this but the punch-down tool makes it far, far easier. Also grab a keystone jack holder while you're at it.
	* Cable tester. You can find a cheap one for like $10. You don't *need* this but it will make you feel better that each contact is solid.
3. Figure out if you want someone to do the dirty work for you. I just paid someone to run the cables, because we already had someone in the crawlspace wiring up the car charger, which I absolutely will not touch. If not, you probably need to buy supplies and learn how to make holes in your walls, apply patch-up paint, overcome your fear of spiders under the house, etc.
4. Run all the cable. Leave a couple feet on each end so you can terminate the wires. Especially if you mess up you want extra length cut your losses (literally, just snip off the failed try) and do it again. You'll push the extra into the walls anyways.
5. Terminate everything and test it before closing things up. At the central point where you have all the wires coming in you probably want to label all the wires :)
6. Once everything works, put all the plates in and clean up.

This is a decent amount of work (it took the better part of a day) but surprisingly it's not *that* expensive, comparatively. You can get all these supplies for like $100. You can pay someone to run the cables for a few hundred dollars. This actually means that you don't have to future-proof as hard as people tell you! Sure, it's a little more work than clicking a button on Amazon and setting up an app, but cost-wise it's comparable to replacing any other part of your networking hardware. I've spent more over the last few years on routers, adapters, and the like.

## Looking forward

With all that, I get what I wanted: gigabit speed from basically anywhere in the house if I plug in. And I've placed the ports in choice locations so that I can directly wire some extra APs into the backbone to get good wireless coverage, which I'm really pleased with. For now, and the forseeable future, I think this is more than enough for my needs.

After that, though, it's more complicated. The lines I put in are Cat6 so they can do 10 Gbps, assuming the right hardware on both ends. As I mentioned earlier, that hardware doesn't seem to exist today, and it's not clear if it will be forthcoming. If it does start rolling out, I can upgrade piecemeal–starting with the most critical equipment first, like my router and core switches–and the new wiring will truly be "future proof" for probably a decade or two.

Another option is that high-speed wired networking over copper never really takes off. It remains expensive and unpopular, and consumers basically all vote for faster wireless instead. In that case I think I'll just keep using the wires for as long as feasible and then update to wireless, as unpleasant as it will feel. To that end, I'll probably get less than a decade of use out the cabling–but that's basically on par with the rate at which I spend on networking anyways, so I don't feel too bad about it.

Finally, it might be that the future is still wired (over fiber, or something else…), which still means my Cat6 wasn't the best decision. I definitely could have put in fiber right now, but it's a bit more fiddly to work with and I just wasn't comfortable with it yet. I see nothing wrong with going back in 10 years from now and putting in fiber, though. I'll definitely be more confident about doing something like that, now that I know how to e.g. make holes in my walls and can focus on the *fiber* part specifically. Or, depending on the circumstances, the Cat6 might see a new life as a convenient transport that I equip with adapters on both ends for whatever the new technology is. Those MoCA adapters I was using in the old house? That's basically what those are, except they run data over coaxial cable I have no use for but happens to be convenient to reuse because it's just there. And they're still in use, because they go to one part of my house hard to lay Ethernet cable to, which means there will always probably be some sort of conversion somewhere regardless of what new wiring I do.
